---
title: 多线程与并发
date: 2022-04-22 22:54:28
categories: 语言学习
tags:
  - Programming
  - C++
---

# 并发, 进程, 线程的基本概念和综述

## 1. 并发

**一个程序同时进行多个独立的任务。**

单核计算机上的并发是个假象，其实只是**任务切换**（task switching）需要上下文切换
多处理器或一个处理器上有多个核上的并发才是自然的并发，叫**硬件并发**



**并发种类：**

1. 多进程并发
   这些进程间可通过正常的进程通信渠道（信号，[套接字](https://so.csdn.net/so/search?q=套接字&spm=1001.2101.3001.7020)，文件，管道等）
   缺点：1；通信建立较复杂或者慢；2；操作系统需要花时间启动进程和管理进程资源等
   优点：1；更容易写安全的并发代码比如Erlang语言 2；可以运行在不同的机器上

![进程间线程通信](https://cdn.jsdelivr.net/gh/roranrui/img_bed/img/O6N72WQUV8sTBkJ.png)

2. 多线程并发
   线程像轻量级的进程；每个线程互相独立，一个进程的所有线程分享同一个地址空间，多数数据可以共享，比如全局变量，指针和引用可以在线程间传递；
   优点：共享地址空间和没有数据保护使得使用多线程程序比多进程程序代价小

![进程间线程通信](https://cdn.jsdelivr.net/gh/roranrui/img_bed/img/ShtGON1CcsqLr87.png)



****

## 2. 进程

**运行中的可执行程序**

* 进程的定义大体分为以下几点:

1. 进程是程序的一次执行
2. 进程是一个程序及其数据在处理机上顺序执行时所发生的活动
3. 进程是具有独立功能的程序在一个数据集合上运行过程，它是系统进行资源分配和调度的一个独立单位





****

## 3. 线程

**一个进程里面最小的执行单元就叫一个线程。**

​	线程可以理解成是在进程中独立运行的子任务。比如QQ.exe运行时就会有很多的子任务在同时运行。比如，好友视频线程、下载文件线程、传输数据线程、发送表情线程等。这些不同的任务或者说功能都可以同时运行，其中每一个任务完全可以理解成是“线程”在工作，传文件、听音乐、发送图片表情等功能都有对应的线程在后台默默地运行。



* 线程启动速度快, 轻量
* 系统资源占用少, 执行速度快,
* ==小心数据一致性问题==



****

## 4. 并发实现

* 通过多个进程实现并发
* 在单独的进程中, 创建多个线程实现并发(**主要学习方向**) 





