---
title: 系统信息相关命令
date: 2022-04-22 23:21:21
categories: 操作系统学习
tags:
  - 操作系统
  - Linux
---

# 系统信息相关命令

* 本节内容主要是为了方便通过远程终端维护服务器时，查看服务器上当前 **系统日期和时间** ／ **磁盘空间占用情况** ／ **程序执行情况**
* 本小结学习的终端命令基本都是查询命令，通过这些命令对系统资源的使用情况有个了解

## 目标

* 时间和日期

  * ### `date`

  * ### `cal`

* 磁盘和目录空间

  * `df`
  * `du`

* 进程信息

  * `ps`

  * `top`

  * `kill`

  * `free`

  * ` head`

  * ### `tail`

  * `less`

  * `wc`

## 01. 时间和日期

| 序号 | 命令 | 作用                                             |
| ---- | ---- | ------------------------------------------------ |
| 01   | date | 查看系统时间(读取 )                              |
| 02   | cal  | `calendar` 查看日历，`-y` 选项可以查看一年的日历 |

`date`:  形式: 2022 年 4月7日 星期四 22:25:28

`date +%F("+%Y-%m-%d") `:  形式: 2022-4-7

`date "+%F %T(%H:%M:%S)"`: 2022-4-7 22:28:32 (+表示读取)

获取之前或者之后的某个时间

`date -d "-1 day" "+%F %T"`

| 可选值    | 符号           |
| --------- | -------------- |
| 单位可选  | +/-            |
| 符号可选: | day month year |

| 参数 | 意义         |
| ---- | ------------ |
| %F   | 完整年月日   |
| %T   | 完整时分秒   |
| %Y   | 完整四位年份 |
| %m   | 两位月份     |
| %d   | 日期(前导0)  |
| %H   | 小时         |
| %M   | 分钟         |
| %S   | 秒数         |



`cal == cal -1`: 输出本月

`cal -3`: 输出上月 本月 下月



## 02. 磁盘信息

| 序号 | 命令           | 作用                              |
| ---- | -------------- | --------------------------------- |
| 01   | df -h          | `disk free` 显示磁盘剩余空间      |
| 02   | du -h [目录名] | `disk usage` 显示目录下的文件大小 |

* 选项说明

| 参数 | 含义                       |
| ---- | -------------------------- |
| -h   | 以人性化的方式显示文件大小 |

## 03. 进程信息

* 所谓 **进程**，通俗地说就是 **当前正在执行的一个程序**

| 序号 | 命令               | 作用                                  |
| ---- | ------------------ | ------------------------------------- |
| 01   | ps - aux           | `process status` 查看进程的详细状况   |
| 02   | top                | **动态**显示运行中的进程并且排序      |
| 03   | kill [-9] 进程代号 | 终止指定代号的进程，`-9` 表示强行终止 |

> `ps` 默认只会显示当前用户通过终端启动的应用程序

* `ps` 选项说明

| 选项 | 含义                                     |
| ---- | ---------------------------------------- |
| a(e) | 显示终端上的所有进程，包括其他用户的进程 |
| u    | 显示进程的详细状态                       |
| x    | 显示没有控制终端的进程                   |
| f    | 显示全部的列                             |

> 列的含义: 
>
> UID: 该进程执行的用户id
>
> **PID: 进程id**
>
> **PPID: 该进程的父级进程id, 无父级进程的称为僵尸进程**
>
> C: Cpu占用率, 形式是百分数
>
> STIME: 进程的启动时间
>
> TTY: 发起该进程的设备识别符号
>
> CMD: 进程名称或对应路径

查看指定进程: `ps -ef | grep 进程` 



> top表头含义:
>
> PR: 优先级
>
> VIRT: 虚拟内存
>
> RES: 常驻内存
>
> SHR: 共享内存
>
> 一个进程实际使用的内存 = RES - SHR 
>
> S: sleeping R: running



> 提示：使用 `kill` 命令时，最好只终止由当前用户开启的进程，而不要终止 `root` 身份开启的进程，否则可能导致系统崩溃
>
> `killall 进程名称`

>* 要退出 `top` 可以直接输入 `q`
>* `M`: 按内存从高到低进行降序排列
>* `1`: 切换显示cpu的详细信息



#### free

`free`: 查看内存使用情况

`-m`: 以mb为单位查看 



`head -n` : 查看一个文件的前n行, 如果不指定n, 则默认显示前10行 



#### tail

`tail -n`: 查看一个文件的后n行, 如果不指定n, 则默认显示后10行

`tail -f`: 查看文件的动态变化(**变化的内容不能是用户手动添加的, 可以借助输出重定向**) 一般用于查看系统日志



#### less

`less`: 查看文件, 以较少内容进行输出, 按下辅助按键查看更多(数字 空格 上下键)



`wc`: 统计文件内容信息(行数, 单词数, 字节数)

| -l   | lines 行数             |
| ---- | ---------------------- |
| -w   | words 单词数(空格判断) |
| -c   | bytes 字节数           |



#### service

控制一些软件的服务启动/停止/重启

`service 服务名 start/stop/restart`

`service httpd start`: 启动*Apache*





## 04. 系统优先级

| 代号                    | 作用                 |
| ----------------------- | -------------------- |
| 0 --halt                | 关机模式             |
| 1 Single user mode      | 单用户模式           |
| 2 Multiuser without NFS | 多用户模式           |
| 3 full Multiuser mode   | 全多用户模式         |
| 4 -unused               | 保留                 |
| 5 -X11 **default**      | 完整的图形化界面模式 |
| 6 -reboot               | 重启模式             |

命令行输入`init 数字`执行相应的进程

